# 06_스택

## 스택이란

- 가장 뒤에 들어온 것이 가장 먼저 나가는 구조(LIFO: last in first out)
- 스택의 개념과 원리
  - 맨 위에 원소만 접근 가능(스택 탑)
  - 새로운 원소는 스택 탑 바로 위에 저장한 후 새 원소가 스택 탑이 된다.

- 추상 데이터 타입 스택
  - 맨 윗부분에 원소를 추가한다
  - 맨 윗부분에 있는 원소를 알려준다
  - 맨 윗부분에 있는 원소를 삭젷라면서 알려준다
  - 스택이 비어 있는지 확인한다
  - 스택을 깨끗이 비운다



## 배열을 이용한 스택

### 배열 스택의 객체 구조

- 스택을 위한 배열 st ack[0, ..., n-1], 맨 위쪽 원소의 자리를 가리키는 배열 인덱스를 저장하는 변수 topIndex
- topIndex 값은 처음에는 원소가 들어있지 않다는 의미로 -1로 세팅

### 배열 스택의 작업

- 원소 삽입(push)

  - 새 원소를 삽입할 때는 스택 탑 바로 윗자리에 원소를 저장하고 스택 탑 인덱스를 1 증가시킨다
  - 자바에서 배열이 꽉 차는 경우는 원소를 삽입할 수 없다

- 원소 삭제(pop)

  - 원소를 삭제할 때는 무조건 탑에 있는 원소를 삭제한 후 스택 탑 인덱스를 1 감소시킨다.
  - topIndex 자리의 원소를 리턴하면서 topIndex를 1 감소시킨다.

- 기타 작업

  - 스택 탑 원소를 알려주는 함수 top()
  - 배열이 꽉 찬 상태인지 확인하는 isFull()
  - 스택이 비었는지 확인하는 isEmpty()
  - 스택 비우기 popAll()

  

## 연결 리스트를 이용한 스택

### 연결 리스트 스택의 객체 구조

- 연결 리스트 스택을 시용하는 경우  스택을 연결 리스트로 구성하고 연결 리스트의 어느 쪽은 스택 탑으로 삼을 것인지 결정해주면 된다.
- 맨 앞 또는 맨 뒤 노드를 스택 탑으로 삼고 레퍼런스 변수 topNode가 이 노드를 가리키도록 한다. 
- 빈 스택의 경우 스택의 탑 노드를 가리키는 레퍼런스 topNode를 null로 설정한다. 

### 연결 리스트 스택의 작업

- 원소 삽입
  - 연결리스트의 맨 앞 또는 맨 뒤에 새 노드를 삽입하고 스택 탑 레퍼런스를 새 노드로 바꾸어준다. 
  - 원소의 삽입과 삭제는 맨 앞에서만 일어나므로 더미 헤드를 이용할 필요가 없다.
- 원소 삭제
  - 스택 탑 레퍼런스를 다음 노드를 가리키게 하고 원래 스택 탑 값을 리턴한다. 
- 기타 작업
  - 스택 탑 원소를 알려주는 top()
  - 스택이 비었는지 확인하는 isEmpty()는 topNode 값이 null 인지 확인한다
  - 스택 비우기 popAll()



## 다른 클래스를 재사용한 스택

### 클래스 '연결 리스트' 상속

- 앞에서 구현한 linked list를 상속받아 재사용하면 구현에 드는 노력을 줄일 수 있다. 
- extends 키워드를 이용해 상속을 나타낸다
- 상위 클래스는 super 키워드를 이용해 접근한다. 
- 상속받은 클래스에서 재정의하지 않은 경우 상위 클래서에서 찾게 된다. 이를 명시적으로 표시하려면 super 키워드를 사용하는 것이 좋다. 

### ADT 리스트 사용

- 필드는 list 이며 이는 스택으로 사용할 리스트를 레퍼런스 하는 변수다. 
- list 필드에는 클라이언트 프로그램이 직접 접근하지 못하고 객체 내부의 메서드들을 통해서만 접근할 수 있다. 
- 앞서 listInterface를 통해서 ADT를 구현했기 때문에 이를 상속받아 사용한다. 



## 스택 응용

- 문자열 뒤집기
  - 입력 문자열이 끝날 때까지 push를 통해 스택에 저장하고 pop을 통해 문자열을 출력하면 문자열을 뒤집는 메서드를 작성할 수 있다.

- postfix 계산
  - 문자가 숫자면 push를 스택에 삽입한다. 바로 앞의 문자가 숫자이면 이는 이어진 하나의 수를 의미하므로 다시 pop으로 뽑아서 계산해서 넣어준다. 
  - 문자가 연산자이면 스택의 맨 위에 있는 2개를 뽑아서 계산하고 다시 push 한다. 
  - 문자가 공백이면 무시하고 넘어간다. 